{% extends '::'~app.session.get('empresa').plantilla %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('front/js/plugins/mediaelement-4.2.8/build/mediaelementplayer.min.css') }}" rel="stylesheet">
{% endblock %}

{% block body %}

{% if biblioteca.TipoBiblioteca.id == '1' %}
    <div class="container-fluid">
        <div class="row mt-4">
            <div class="col-lg-12 col-sm-12 col-xl-12 col-md-12 text-center">
                <h3>{{ 'Biblioteca'|trans }}</h3>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-lg-12 col-sm-12 col-xl-12 col-md-12 text-center">
                <h3 class="subtitulo-recurso">{{ biblioteca.titulo }}</h3>
            </div>
        </div>
        <div class="biblio_detalle-recurso">
            <div class="row justify-content-between justify-content-sm-center">
                <div class="col-md-12 col-sm-12 col-xl-8 col-lg-10 text-center">
                    <video
                           class="video-js vjs-fluid my-player"
                           controls
                           preload="auto"
                           {% set img = uploads~biblioteca.imagen %}
                           poster="{{img}}"
                           data-setup='{"playbackRates": [1, 1.5, 2], "fluid": true, "controlBar": { "muteToggle": false }}'>
                           {% set video = uploads~biblioteca.pdf %}
                        <source src="{{video}}"></source>
                    </video>
                </div>
                <div class="col-xl-4 col-lg-10 col-md-12 col-sm-12 mt-sm-4">
                    <div class="row justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-md-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Título'|trans }}</h4>
                        </div>
                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 text-justify">
                            <h5 class="tituloTextRecurso">{{ biblioteca.titulo }}</h5>
                        </div>
                    </div>
                    <div class="row mt-3 justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-md-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Fecha de creación'|trans }}</h4>
                        </div>
                        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">
                            <p class="textRecurso">{{ biblioteca.fechapublicacion|date("d-m-Y") }}</p>
                        </div>
                    </div>
                    <div class="row mt-2 justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-md-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Descripción'|trans }}</h4>
                        </div>
                        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12 text-justify">
                            <p class="textRecurso">{{ biblioteca.contenido|raw }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3 align-items-center justify-content-end">
                <div class="col-sm-6 col-md-6 col-lg-6 col-xl-6 text-right">
                    <a href="{{ path('_biblioteca') }}" class="lk-volver"><span class="material-icons ic-bck">arrow_back</span>{{ 'Volver a biblioteca'|trans }}</a>
                </div>
            </div>
            {% if videos %}
                <div class="biblio_detalle-catag">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <h4 class="mt-3 pt-3 mb-0 pb-1 title-grey sub-line ">{{ 'Contenido Relacionado'|trans }}</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="cards-section container d-flex justify-content-between justify-content-sm-between flex-wrap mt-3">
                            {% for video in videos %}
                                <div class="col-lg-6 col-xl-4 col-md-6 col-sm-6">
                                    <a href="{{ path('_bibliotecaDetalle',  { 'biblioteca_id': video.id}) }}">
                                        <div class="card_biblio">
                                            <div class="card_biblio-left">
                                                <span class="material-icons ic-recurso">video_library</span>
                                            </div>
                                            <div class="card_biblio-right">
                                                <div class="row">
                                                    <div class="col-xl-12 col-lg-12 col-sm-12">
                                                        <h5 class="titulo_recurso">{{ video.titulo }}</h5>
                                                    </div>
                                                    <div class="col-xl-12 col-lg-12 col-sm-12 text-right pos-recurso">
                                                        <span class="tipo_recurso">video</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
{% elseif biblioteca.TipoBiblioteca.id == '2' %}
    <div class="container-fluid">
        <div class="row mt-4">
            <div class="col-lg-12 col-sm-12 col-xl-12 col-md-12 text-center">
                <h3>{{ 'Biblioteca'|trans }}</h3>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-lg-12 col-sm-12 col-xl-12 col-md-12 text-center">
                <h3 class="subtitulo-recurso">{{ biblioteca.titulo }}</h3>
            </div>
        </div>
        <div class="biblio_detalle-recurso">
            <div class="row justify-content-center">
                <div class="col-xl-4 col-lg-4 col-md-10 col-sm-12">
                    <div class="row justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-md-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Título'|trans }}</h4>
                        </div>
                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 text-justify">
                            <h5 class="tituloTextRecurso">{{ biblioteca.titulo }}</h5>
                        </div>
                    </div>
                    <div class="row mt-3 justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-md-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Fecha de creación'|trans }}</h4>
                        </div>
                        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">
                            <p class="textRecurso">{{ biblioteca.fechapublicacion|date("d-m-Y") }}</p>
                        </div>
                    </div>
                </div>
                <div class="col-xl-4 col-lg-6 col-md-10 col-sm-12">
                    <div class="row justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-md-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Descripción'|trans }}</h4>
                        </div>
                        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12 text-justify">
                            <p class="textRecurso">{{ biblioteca.contenido|raw }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3 justify-content-center">
                <div class="col-md-12 col-sm-12 col-xl-8 col-lg-10 text-center">
                    <div class="audio-player">
                        <img src="{{asset('img/Podcast.jpg')}}" alt="">
                        {% set audio = uploads~biblioteca.pdf %}
                        <audio class="audioP" src="{{audio}}" type="audio/mp3" controls="controls"></audio>
                    </div>
                </div>
            </div>
            <div class="row mt-3 align-items-center justify-content-end">
                <div class="col-sm-6 col-md-6 col-lg-6 col-xl-6 text-right">
                    <a href="{{ path('_biblioteca') }}" class="lk-volver"><span class="material-icons ic-bck">arrow_back</span>{{ 'Volver a biblioteca'|trans }}</a>
                </div>
            </div>
            {% if audios %}
                <div class="biblio_detalle-catag">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <h4 class="mt-3 pt-3 mb-0 pb-1 title-grey sub-line ">{{ 'Contenido Relacionado'|trans }}</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="cards-section container d-flex justify-content-between justify-content-sm-between flex-wrap mt-3">
                            {% for audio in audios %}
                                <div class="col-lg-6 col-xl-4 col-md-6 col-sm-6">
                                    <a href="{{ path('_bibliotecaDetalle',  { 'biblioteca_id': audio.id}) }}">
                                        <div class="card_biblio">
                                            <div class="card_biblio-left">
                                                <span class="material-icons ic-recurso">mic</span>
                                            </div>
                                            <div class="card_biblio-right">
                                                <div class="row">
                                                    <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">
                                                        <h5 class="titulo_recurso">{{ audio.titulo }}</h5>
                                                    </div>
                                                    <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12 text-right pos-recurso">
                                                        <span class="tipo_recurso">Podcast</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
{% elseif biblioteca.TipoBiblioteca.id in ['3','4']  %}
    <div class="container-fluid">
        <div class="row mt-4 justify-content-center">
            <div class="col-lg-12 col-sm-12 col-xl-12 col-md-12 text-center">
                <h3>{{ 'Biblioteca'|trans }}</h3>
            </div>
        </div>
        <div class="row mt-3 justify-content-center">
            <div class="col-lg-12 col-sm-12 col-xl-12 col-md-12 text-center">
                <h3 class="subtitulo-recurso">{{ biblioteca.titulo }}</h3>
            </div>
        </div>
        <div class="biblio_detalle-recurso">
            <div class="row mt-3 justify-content-center">
                <div class="col-xl-6 col-lg-10 col-md-12 col-sm-12">
                    <div class="row justify-content-center">
                        <div class="col-xl-8 col-lg-10 col-md-10 col-sm-12 text-center">
                            {% set img = uploads~biblioteca.imagen %}
                            <img src="{{ img }}" alt="" class="img-recurso">
                        </div>
                        <div class="col-xl-8 col-lg-10 col-md-10 col-sm-12 mt-6 my-sm-5 mt-sm-0 text-center">
                            {% if biblioteca.pdf %}
                                {% set pdf = uploads~biblioteca.pdf %}
                                    <a href="{{ pdf }}" target="_blank" > 
                                        <button type="button" class="btn btn-primary bttnDownl " id="{{biblioteca.id}}"><i class="material-icons" >cloud_download</i>
                                        </button>
                                        <div class="tooltipN"><div class="tiparrow"></div><p class="textTooltip">{{ 'Descargar'|trans }}</p></div>
                                    </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 col-lg-8 col-md-10 col-sm-12">
                    <div class="row justify-content-between">
                        <div class="col-lg-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Título'|trans }}</h4>
                        </div>
                        <div class="col-xl-12 col-lg-12 col-sm-12">
                            <h5 class="tituloTextRecurso">{{ biblioteca.titulo }}</h5>
                        </div>
                    </div>
                    <div class="row mt-3 justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Autor'|trans }}</h4>
                        </div>
                        <div class="col-lg-12 col-xl-12 col-sm-12">
                            <p class="textRecurso">{{ biblioteca.autor }}</p>
                        </div>
                    </div>
                    <div class="row mt-3 justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Fecha de creación'|trans }}</h4>
                        </div>
                        <div class="col-lg-12 col-xl-12 col-sm-12">
                            <p class="textRecurso">{{ biblioteca.fechapublicacion|date("d-m-Y") }}</p>
                        </div>
                    </div>
                    <div class="row mt-3 justify-content-between">
                        <div class="col-lg-auto col-xl-auto col-sm-auto">
                            <h4 class="sub-line">{{ 'Descripción'|trans }}</h4>
                        </div>
                        <div class="col-lg-12 col-xl-12 col-sm-12 text-justify">
                            <p class="textRecurso">
                                {{ biblioteca.contenido|raw }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3 align-items-center justify-content-end">
                <div class="col-sm-6 col-md-6 col-lg-6 col-xl-6 text-right">
                    <a href="{{ path('_biblioteca') }}" class="lk-volver"><span class="material-icons ic-bck">arrow_back</span>{{ 'Volver a biblioteca'|trans }}</a>
                </div>
            </div>
            {% if pdfs %}
                <div class="biblio_detalle-catag">
                    <div class="row">
                        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <h4 class="mt-3 pt-3 mb-0 pb-1 title-grey sub-line ">{{ 'Contenido Relacionado'|trans }}</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="cards-section container d-flex justify-content-between justify-content-sm-center flex-wrap mt-3">
                            {% for pdf in pdfs %}
                                {% if pdf.tid == '3' %}
                                    <div class="col-lg-6 col-xl-4 col-md-6 col-sm-6">
                                        <a href="{{ path('_bibliotecaDetalle',  { 'biblioteca_id': pdf.id}) }}">
                                            <div class="card_biblio">
                                                <div class="card_biblio-left">
                                                    <span class="material-icons ic-recurso">note</span>
                                                </div>
                                                <div class="card_biblio-right">
                                                    <div class="row">
                                                        <div class="col-xl-12 col-lg-12 col-sm-12">
                                                            <h5 class="titulo_recurso">{{ pdf.titulo }}</h5>
                                                        </div>
                                                        <div class="col-xl-12 col-lg-12 col-sm-12 text-right pos-recurso">
                                                            <span class="tipo_recurso">{{ 'Artículo'|trans }}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                {% else %}
                                    <div class="col-lg-6 col-xl-4 col-md-6 col-sm-6">
                                        <a href="{{ path('_bibliotecaDetalle',  { 'biblioteca_id': pdf.id}) }}">
                                            <div class="card_biblio">
                                                <div class="card_biblio-left">
                                                    <span class="material-icons ic-recurso">book</span>
                                                </div>
                                                <div class="card_biblio-right">
                                                    <div class="row">
                                                        <div class="col-xl-12 col-lg-12 col-sm-12">
                                                            <h5 class="titulo_recurso">{{ pdf.titulo }}</h5>
                                                        </div>
                                                        <div class="col-xl-12 col-lg-12 col-sm-12 text-right pos-recurso">
                                                            <span class="tipo_recurso">{{ 'Libro'|trans }}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
{% endif %}

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    
    
{% endblock %}