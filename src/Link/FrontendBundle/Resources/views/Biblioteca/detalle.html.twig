{% extends '::'~app.session.get('empresa').plantilla %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('front/js/plugins/mediaelement-4.2.8/build/mediaelementplayer.min.css') }}" rel="stylesheet">
{% endblock %}

{% block body %}

{% if biblioteca.TipoBiblioteca.id == '1' %}
<div class="container-fluid">
    <div class="row mt-4">
        <div class="col-12 text-center">
            <h3>Biblioteca</h3>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-12 text-center">
            <h3 class="subtitulo-recurso">{{biblioteca.titulo}}</h3>
        </div>
    </div>
    <div class="biblio_detalle-recurso">
        <div class="row mt-3 align-items-center justify-content-center">
            <div class="col-8 text-center">
                <video
                       id="my-player"
                       class="video-js vjs-fluid"
                       controls
                       preload="auto"
                       poster="assets/img/OBDL960.jpg"
                       data-setup='{"playbackRates": [1, 1.5, 2], "fluid": true, "controlBar": { "muteToggle": false }}'>
                       {% set img = uploads~biblioteca.imagen %}
                    <source src="{{img}}" type="video/mp4"></source>
                <p class="vjs-no-js">
                    To view this video please enable JavaScript, and consider upgrading to a
                    web browser that / Parar ver este video porfavor habilite JavaScript, y 
                    considere actualizar el navegador web que utiliza. 
                    <a href="http://videojs.com/html5-video-support/" target="_blank">
                        Para soporte del video HTML5
                    </a>  
                </p>
                </video>
            </div>
        </div>
        <div class="row mt-3 align-items-center justify-content-center">
            <div class="col-8 text-justify">
                <p class="text-recurso">
                    {{biblioteca.contenido|raw}}
                </p>
            </div>
        </div>
        <div class="row align-items-center justify-content-center">
            <div class="col-6 text-center">
                <button type="button" class="btn btn-primary">Descargar</button>
            </div>
        </div>
        <div class="row mt-3 align-items-center justify-content-end">
            <div class="col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 text-right">
                <a href="{{ path('_biblioteca') }}" class="lk-volver"><span class="material-icons ic-bck">arrow_back</span>Volver a biblioteca</a>
            </div>
        </div>
        <div class="biblio_detalle-catag">
            <div class="row">
                <div class="col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                    <h4 class="mt-3 pt-3 mb-0 pb-1 title-grey sub-line ">Contenido Relacionado</h4>
                </div>
            </div>
            <div class="row">
                <div class="cards-section container d-flex justify-content-between justify-content-sm-center flex-wrap mt-3">
                    {% for anuncio in anuncios %}
                        <div class="col-4 col-lg-4 col-xl-4 col-md-6 col-sm-6 col-xs-6">
                            <a href="{{ path('_bibliotecaDetalle',  { 'biblioteca_id': anuncio.id}) }}">
                                <div class="card_biblio">
                                    <div class="card_biblio-left">
                                        <span class="material-icons ic-recurso">video_library</span>
                                    </div>
                                    <div class="card_biblio-right">
                                        <div class="row">
                                            <div class="col-12">
                                                <h5 class="titulo_recurso">{{anuncio.titulo}}</h5>
                                            </div>
                                            <div class="col-12 text-right pos-recurso">
                                                <span class="tipo_recurso">video</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% elseif biblioteca.TipoBiblioteca.id == '2' %}
<div class="container-fluid">
    <div class="row mt-4">
        <div class="col-12 text-center">
            <h3>Biblioteca</h3>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-12 text-center">
            <h3 class="subtitulo-recurso">{{biblioteca.titulo}}</h3>
        </div>
    </div>
    <div class="biblio_detalle-recurso">
        <div class="row mt-3 align-items-center justify-content-center">
            <div class="col-8 text-center">
                <div class="audio-player">
                    <img src="assets/img/Podcast.jpg" style="width: 100%" alt="">
                    <audio id="audio-player" src="https://www.recursos2puntocero.com/recursos/video/FON_ASTI_RELACIONESCLI.mp3" type="audio/mp3" controls="controls"></audio>
                </div>
            </div>
        </div>
        <div class="row mt-3 align-items-center justify-content-center">
            <div class="col-8 text-justify">
                <p class="text-recurso">
                   {{biblioteca.contenido|raw}}
                </p>
            </div>
        </div>
        <div class="row align-items-center justify-content-center">
            <div class="col-6 text-center">
                <button type="button" class="btn btn-primary">Descargar</button>
            </div>
        </div>
        <div class="row mt-3 align-items-center justify-content-end">
            <div class="col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 text-right">
                <a href="{{ path('_biblioteca') }}" class="lk-volver"><span class="material-icons ic-bck">arrow_back</span>Volver a biblioteca</a>
            </div>
        </div>
        <div class="biblio_detalle-catag">
            <div class="row">
                <div class="col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                    <h4 class="mt-3 pt-3 mb-0 pb-1 title-grey sub-line ">Contenido Relacionado</h4>
                </div>
            </div>
            <div class="row">
                <div class="cards-section container d-flex justify-content-between justify-content-sm-center flex-wrap mt-3">
                    {% for anuncio in anuncios %}
                        <div class="col-4 col-lg-4 col-xl-4 col-md-6 col-sm-6 col-xs-6">
                            <a href="{{ path('_bibliotecaDetalle',  { 'biblioteca_id': anuncio.id}) }}">
                                <div class="card_biblio">
                                    <div class="card_biblio-left">
                                        <span class="material-icons ic-recurso">mic</span>
                                    </div>
                                    <div class="card_biblio-right">
                                        <div class="row">
                                            <div class="col-12 col-lg-12 col-xl-12 col-md-12 col-sm-12 col-xs-12">
                                                <h5 class="titulo_recurso">{{anuncio.titulo}}</h5>
                                            </div>
                                            <div class="col-12 col-lg-12 col-xl-12 col-md-12 col-sm-12 col-xs-12 text-right pos-recurso">
                                                <span class="tipo_recurso">Podcast</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% elseif biblioteca.TipoBiblioteca.id in ['3','4']  %}
<div class="container-fluid">
    <div class="row mt-4">
        <div class="col-12 text-center">
            <h3>Biblioteca</h3>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-12 text-center">
            <h3 class="subtitulo-recurso">{{biblioteca.titulo}}</h3>
        </div>
    </div>
    <div class="biblio_detalle-recurso">
        <div class="row mt-3 align-items-center justify-content-center">
            <div class="col-6 text-center">
                {% set img = uploads~biblioteca.imagen %}
                <img src="{{img}}" alt="" class="img-recurso">
            </div>
        </div>
        <div class="row mt-3 align-items-center justify-content-center">
            <div class="col-8 text-justify">
                <p class="text-recurso">
                    {{biblioteca.contenido|raw}}
                </p>
            </div>
        </div>
        <div class="row align-items-center justify-content-center">
            <div class="col-6 text-center">
                <button type="button" class="btn btn-primary">Descargar</button>
            </div>
        </div>
        <div class="row mt-3 align-items-center justify-content-end">
            <div class="col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 text-right">
                <a href="{{ path('_biblioteca') }}" class="lk-volver"><span class="material-icons ic-bck">arrow_back</span>Volver a biblioteca</a>
            </div>
        </div>
        <div class="biblio_detalle-catag">
            <div class="row">
                <div class="col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                    <h4 class="mt-3 pt-3 mb-0 pb-1 title-grey sub-line ">Contenido Relacionado</h4>
                </div>
            </div>
            <div class="row">
                <div class="cards-section container d-flex justify-content-between justify-content-sm-center flex-wrap mt-3">
                    {% for anuncio in anuncios %}
                    {% if anuncio.tipoBiblioteca.id == '3' %}
                        <div class="col-4 col-lg-4 col-xl-4 col-md-6 col-sm-6 col-xs-6">
                            <a href="{{ path('_bibliotecaDetalle',  { 'biblioteca_id': anuncio.id}) }}">
                                <div class="card_biblio">
                                    <div class="card_biblio-left">
                                        <span class="material-icons ic-recurso">note</span>
                                    </div>
                                    <div class="card_biblio-right">
                                        <div class="row">
                                            <div class="col-12 col-lg-12 col-xl-12 col-md-12 col-sm-12 col-xs-12">
                                                <h5 class="titulo_recurso">{{anuncio.titulo}}</h5>
                                            </div>
                                            <div class="col-12 col-lg-12 col-xl-12 col-md-12 col-sm-12 col-xs-12 text-right pos-recurso">
                                                <span class="tipo_recurso">Artículo</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    {% else %}
                        <div class="col-4 col-lg-4 col-xl-4 col-md-6 col-sm-6 col-xs-6">
                            <a href="{{ path('_bibliotecaDetalle',  { 'biblioteca_id': anuncio.id}) }}">
                                <div class="card_biblio">
                                    <div class="card_biblio-left">
                                        <span class="material-icons ic-recurso">book</span>
                                    </div>
                                    <div class="card_biblio-right">
                                        <div class="row">
                                            <div class="col-12 col-lg-12 col-xl-12 col-md-12 col-sm-12 col-xs-12">
                                                <h5 class="titulo_recurso">{{anuncio.titulo}}</h5>
                                            </div>
                                            <div class="col-12 col-lg-12 col-xl-12 col-md-12 col-sm-12 col-xs-12 text-right pos-recurso">
                                                <span class="tipo_recurso">Libro</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    {% endif%}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('front/js/plugins/mediaelement-4.2.8/build/mediaelement-and-player.min.js') }}"></script> 
    <script>
        document.oncontextmenu = function(){return false;}
        $(document).ready(function() {
            $('#audio-player').mediaelementplayer({
                alwaysShowControls: true,
                features: ['playpause','volume','progress','current','duration'],
                audioVolume: 'vertical',
                audioWidth: "100%",
                audioHeight: 40
            });
        });
    </script>
{% endblock %}